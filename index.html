<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Scorezilla Highscore API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="imgs/icon.png">
    <link rel="stylesheet" href="styles/styles.css">
</head>

<body>
    <center>
        <img src="imgs/icon.png" alt="Scorezilla Icon" class="project-icon" />
        <h1>Scorezilla Highscore API</h1>
        <div class="section">
            <p>A free, serverless REST API for managing highscores for multiple games. Easily deployable on Netlify.</p>
        </div>
    </center>
    <div class="section card">
        <h2>üöÄ Key Concepts</h2>
        <table class="table-collapse" style="width:100%;border-collapse:collapse;">
            <tr class="table-header-bg">
                <th style="padding:8px;text-align:left;">Concept</th>
                <th style="padding:8px;text-align:left;">Details</th>
            </tr>
            <tr>
                <td style="padding:8px;">Multiple Games üéÆ</td>
                <td style="padding:8px;">Each game has its own highscore list, identified by <code>gameId</code>.</td>
            </tr>
            <tr>
                <td style="padding:8px;">Unique Score ID üÜî</td>
                <td style="padding:8px;">Every score entry uses a globally unique identifier (GUID).</td>
            </tr>
            <tr>
                <td style="padding:8px;">CRUD API ‚úçÔ∏è</td>
                <td style="padding:8px;">Create, Read, Update, Delete, and Check Qualification for scores.</td>
            </tr>
            <tr>
                <td style="padding:8px;">Serverless & Free ‚òÅÔ∏è</td>
                <td style="padding:8px;">Runs on Netlify's free tier, no server management needed.</td>
            </tr>
        </table>
    </div>

    <div class="section card">
        <h2>üîó Endpoints</h2>
        <table class="table-collapse" style="width:100%;border-collapse:collapse;">
            <tr class="table-header-bg">
                <th style="padding:8px;text-align:left;">Method</th>
                <th style="padding:8px;text-align:left;">Purpose</th>
            </tr>
            <tr>
                <td style="padding:8px;"><b>POST</b></td>
                <td style="padding:8px;">Create a new account (returns id + secret) ‚Äî <code>/.netlify/functions/newaccount</code>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>POST</b></td>
                <td style="padding:8px;">Obtain JWT using account id + secret ‚Äî <code>/.netlify/functions/auth</code>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>GET</b></td>
                <td style="padding:8px;">List my games (requires Bearer token) ‚Äî <code>/.netlify/functions/games</code>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>POST</b></td>
                <td style="padding:8px;">Create a game for authenticated account ‚Äî <code>/.netlify/functions/creategame</code>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>GET</b></td>
                <td style="padding:8px;">List top scores for a game ‚Äî <code>/.netlify/functions/scores</code></td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>POST</b></td>
                <td style="padding:8px;">Add a new score (requires Bearer token) ‚Äî <code>/.netlify/functions/scores</code>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>PUT</b></td>
                <td style="padding:8px;">Update an existing score (requires Bearer token)</td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>DELETE</b></td>
                <td style="padding:8px;">Remove a score (requires Bearer token)</td>
            </tr>
            <tr>
                <td style="padding:8px;"><b>OPTIONS</b></td>
                <td style="padding:8px;">Check if a score qualifies as a highscore (requires Bearer token)</td>
            </tr>
        </table>
        <p class="endpoints-note" style="margin-top:1em;">All scores endpoints: <code>/.netlify/functions/scores</code><br>Authentication: include <code>Authorization: Bearer &lt;token&gt;</code> for protected endpoints.
        </p>
    </div>

    <div class="section card">
        <h2>üìã API Examples</h2>
        <table class="table-collapse" style="width:100%;border-collapse:collapse;">
            <tr class="table-header-bg">
                <th style="padding:8px;text-align:left;">Action</th>
                <th style="padding:8px;text-align:left;">Example</th>
            </tr>
            <tr>
                <td style="padding:8px;">Create Account</td>
                <td style="padding:8px;">
                    <pre>curl -X POST https://&lt;yoursite&gt;.netlify.app/.netlify/functions/newaccount</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">Obtain JWT</td>
                <td style="padding:8px;">
                    <pre>curl -X POST -H "Content-Type: application/json" \
  -d '{"id":"ACCOUNT_ID","secret":"ACCOUNT_SECRET"}' \
  https://&lt;yoursite&gt;.netlify.app/.netlify/functions/auth</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">Create Game (authenticated)</td>
                <td style="padding:8px;">
                    <pre>curl -X POST -H "Authorization: Bearer &lt;TOKEN&gt;" -H "Content-Type: application/json" \
  -d '{"shortcode":"game1","name":"Project Name"}' \
  https://&lt;yoursite&gt;.netlify.app/.netlify/functions/creategame</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">List My Games (authenticated)</td>
                <td style="padding:8px;">
                    <pre>curl -H "Authorization: Bearer &lt;TOKEN&gt;" \
  "https://&lt;yoursite&gt;.netlify.app/.netlify/functions/games"</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">POST (Add Highscore)</td>
                <td style="padding:8px;">
                    <pre>curl -X POST -H "Authorization: Bearer &lt;TOKEN&gt;" -H "Content-Type: application/json" \
  -d '{"gameId":"game1","name":"Alice","score":1234}' \
  https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">GET (List Highscores)</td>
                <td style="padding:8px;">
                    <pre>curl "https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores?gameId=game1&limit=5"</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">PUT (Update Highscore)</td>
                <td style="padding:8px;">
                    <pre>curl -X PUT -H "Content-Type: application/json" \
  -d '{"gameId":"game1","id":"GUID","name":"Alice","score":1500}' \
  https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">DELETE (Remove Highscore)</td>
                <td style="padding:8px;">
                    <pre>curl -X DELETE "https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores?gameId=game1&id=GUID"</pre>
                </td>
            </tr>
            <tr>
                <td style="padding:8px;">OPTIONS (Check Highscore Qualification)</td>
                <td style="padding:8px;">
                    <pre>curl -X OPTIONS -H "Content-Type: application/json" \
  -d '{"gameId":"game1","score":1200}' \
  https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores</pre>
                </td>
            </tr>
        </table>
    </div>

    <div class="section card">
        <h2>üìù API Reference (Swagger Style)</h2>
        <table class="table-collapse" style="width:100%;border-collapse:collapse;">
            <tr class="table-header-bg">
                <th style="padding:8px;text-align:left;">Endpoint</th>
                <th style="padding:8px;text-align:left;">Description</th>
                <th style="padding:8px;text-align:left;">Auth</th>
            </tr>
            <tr>
                <td style="padding:8px;">POST /newaccount</td>
                <td style="padding:8px;">Create a new account ‚Äî returns <code>{ id, secret }</code>. Save the secret securely.
                </td>
                <td style="padding:8px;">None</td>
            </tr>
            <tr>
                <td style="padding:8px;">POST /auth</td>
                <td style="padding:8px;">Exchange <code>{ id, secret }</code> for a JWT token (expires in 1 hour).</td>
                <td style="padding:8px;">None</td>
            </tr>
            <tr>
                <td style="padding:8px;">GET /games</td>
                <td style="padding:8px;">List games owned by the authenticated account.</td>
                <td style="padding:8px;">Bearer JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">POST /creategame</td>
                <td style="padding:8px;">Create a game for the authenticated account ‚Äî body: <code>{ shortcode, name }</code>.</td>
                <td style="padding:8px;">Bearer JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">GET /scores</td>
                <td style="padding:8px;">List top scores for a game (query: <code>gameId</code>, optional <code>limit</code>).</td>
                <td style="padding:8px;">None</td>
            </tr>
            <tr>
                <td style="padding:8px;">POST /scores</td>
                <td style="padding:8px;">Add score for a game (requires JWT).</td>
                <td style="padding:8px;">Bearer JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">PUT /scores</td>
                <td style="padding:8px;">Update a score<br><b>Body:</b> <code>{ gameId, id, name, score }</code></td>
                <td style="padding:8px;">JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">DELETE /scores</td>
                <td style="padding:8px;">Remove a score<br><b>Query/Body:</b> <code>{ gameId, id }</code></td>
                <td style="padding:8px;">JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">OPTIONS /scores</td>
                <td style="padding:8px;">Check if a score qualifies<br><b>Body:</b> <code>{ gameId, score }</code></td>
                <td style="padding:8px;">JWT</td>
            </tr>
            <tr>
                <td style="padding:8px;">POST /auth</td>
                <td style="padding:8px;">Obtain JWT for anonymous auth<br><b>Body:</b> None</td>
                <td style="padding:8px;">None</td>
            </tr>
        </table>
    </div>

    <div class="section card">
        <h2>üõ†Ô∏è Deploy Instructions</h2>
        <ol>
            <li>Install Netlify CLI: <code>npm install -g netlify-cli</code></li>
            <li>Link your project: <code>netlify init</code></li>
            <li>Test locally: <code>netlify dev</code></li>
            <li>Deploy: <code>netlify deploy --prod</code></li>
        </ol>
        <p>Your API will be available at <code>https://&lt;yoursite&gt;.netlify.app/.netlify/functions/scores</code>
        </p>
    </div>
    <div class="section card">
        <h2>üß∞ API Test Collection</h2>
        <p>
            Download the ready-to-use Postman collection:<br>
            <a href="Scorezilla.postman_collection.json" download>Download Scorezilla.postman_collection.json</a>
        </p>
        <!-- License note -->
        <p style="margin-top:1em;font-size:0.9em;color:rgba(0,0,0,0.7);">
            This project is released under the <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">MIT License</a>.
        </p>
    </div>
</body>

</html>